import {useCallback, useEffect, useRef, useState} from 'react';
import styled, {css} from 'styled-components';

import {Background} from './background.component.ts';
import {COLORS} from '../../constants/colors.constant.ts';
import {Pencil} from '../../assets/pencil.asset.tsx';
import {ReactSketchCanvas, ReactSketchCanvasRef} from 'react-sketch-canvas';
import {Flex} from '../shared/flex.component.ts';
import {Button} from '../shared/button.component.ts';

const Container = styled.div`
	width: 100vw;
	height: 100vh;
	position: relative;
	overflow: hidden;
`;

const Main = styled.div`
	position: relative;
	top: -8px;
	right: -8px;
	bottom: -8px;
	left: -8px;

	svg {
		position: absolute;
		top: 8px;
		right: 0;
		bottom: 0;
		left: 8px;
	}
`;

const SketchbookContainer = styled.div`
	position: absolute;
	width: 100vw;
	height: 100vh;
	background-color: #7e5544;
	top: 8px;
	left: 8px;
	display: flex;
	flex-direction: row;
	align-items: stretch;
`;

const Pencils = styled.div`
	width: 200px;
	height: 100vh;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	gap: 8px;
	padding: 32px 32px 32px 0;
`;

interface PencilContainerProps {
	active: boolean;
	reverse?: boolean;
}

const PencilContainer = styled.div<PencilContainerProps>`
	position: relative;
	width: 217px;
	height: 26px;
	left: ${({active}) => (active ? -30 : -60)}px;
	transition: left 336ms ease-in-out;

	${({reverse}) =>
		reverse &&
		css`
			svg {
				transform: rotate(180deg);
			}
		`}
`;

const CanvasWrapper = styled.div`
	flex: 1;
	padding: 32px;
`;

const CanvasContainer = styled.div`
	width: 100%;
	height: 100%;
	position: relative;
	overflow: hidden;
`;

export const Room = () => {
	const canvasRef = useRef<ReactSketchCanvasRef>(null);

	const [sketchbook, setSketchbook] = useState(false);
	const [color, setColor] = useState(COLORS[0]);
	const [eraser, setEraser] = useState(false);

	const onSudokuClick = useCallback(() => {
		alert('To be implemented');
	}, []);
	const onSketchbookClick = useCallback(() => {
		setSketchbook(true);
	}, []);
	const onPencilClick = useCallback(
		(color: string) => () => {
			setEraser(false);
			setColor(color);
		},
		[]
	);
	const onEraserClick = useCallback(() => {
		setEraser(true);
	}, []);
	const onExitClick = useCallback(() => {
		setSketchbook(false);
	}, []);

	const renderColors = () =>
		COLORS.map((c) => (
			<PencilContainer
				active={!eraser && c === color}
				onClick={onPencilClick(c)}>
				<Pencil color={c} />
			</PencilContainer>
		));

	useEffect(() => {
		if (!canvasRef.current) return;

		canvasRef.current.eraseMode(eraser);
	}, [eraser]);

	return (
		<Container>
			<Background src="/images/room.jpg" animation={false} />
			<Main>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width={1920}
					height={1080}
					viewBox="0 0 1920 1080"
					fill="#00000080"
					preserveAspectRatio="xMinYMax meet">
					<g onClick={onSketchbookClick}>
						<rect width={100} height={40} x={954} y={674} rx={8} />
						<path
							fill="#fff"
							d="M968.416 688.84c-1.6 0-2.4.603-2.4 1.808 0 .672.181 1.136.544 1.392.373.245 1.12.496 2.24.752 1.131.245 1.931.571 2.4.976.469.395.704 1.051.704 1.968 0 2.272-1.179 3.408-3.536 3.408-.779 0-1.755-.091-2.928-.272l-.576-.08.128-1.024c1.451.192 2.555.288 3.312.288 1.579 0 2.368-.741 2.368-2.224 0-.597-.176-1.024-.528-1.28-.341-.267-.987-.491-1.936-.672-1.248-.267-2.133-.608-2.656-1.024-.523-.427-.784-1.136-.784-2.128 0-1.984 1.189-2.976 3.568-2.976.779 0 1.712.08 2.8.24l.544.08-.112 1.04c-1.483-.181-2.533-.272-3.152-.272Zm6.608 10.16h-1.2v-11.488h1.2v6.784l1.248-.064L978.56 691h1.36l-2.608 3.68 2.72 4.32h-1.36l-2.384-3.712-1.264.048V699Zm11.693-.992.464-.048.032.944c-1.216.171-2.256.256-3.12.256-1.152 0-1.968-.331-2.448-.992-.48-.672-.72-1.712-.72-3.12 0-2.805 1.115-4.208 3.344-4.208 1.077 0 1.883.304 2.416.912.533.597.8 1.541.8 2.832l-.064.912h-5.28c0 .885.16 1.541.48 1.968.32.427.875.64 1.664.64.8 0 1.611-.032 2.432-.096Zm-.432-3.472c0-.981-.16-1.675-.48-2.08-.309-.405-.821-.608-1.536-.608-.704 0-1.237.213-1.6.64-.352.427-.533 1.109-.544 2.048h4.16Zm7.167-2.496h-2.544v3.824c0 .917.064 1.52.192 1.808.139.288.459.432.96.432l1.424-.096.08.992c-.714.117-1.258.176-1.632.176-.832 0-1.408-.203-1.728-.608-.32-.405-.48-1.179-.48-2.32v-4.208h-1.136V691h1.136v-2.448h1.184V691h2.544v1.04Zm4.458-1.2c.352 0 .949.064 1.792.192l.388.048-.05.976c-.856-.096-1.485-.144-1.89-.144-.907 0-1.526.219-1.856.656-.32.427-.48 1.227-.48 2.4 0 1.163.149 1.973.448 2.432.309.459.944.688 1.904.688l1.884-.144.05.992c-.99.149-1.732.224-2.222.224-1.248 0-2.112-.32-2.592-.96-.47-.64-.704-1.717-.704-3.232 0-1.525.256-2.592.768-3.2.512-.619 1.365-.928 2.56-.928Zm5.18 8.16h-1.2v-11.488h1.2v3.936c.85-.405 1.67-.608 2.46-.608 1.07 0 1.78.288 2.14.864.38.576.56 1.6.56 3.072V699h-1.2v-4.192c0-1.109-.11-1.867-.33-2.272-.21-.416-.67-.624-1.38-.624-.67 0-1.32.123-1.95.368l-.3.112V699Zm10.93-8.16c1.07 0 1.83.309 2.25.928.44.608.66 1.68.66 3.216 0 1.536-.27 2.619-.82 3.248-.53.619-1.52.928-2.96.928-.45 0-1.19-.043-2.22-.128l-.45-.048v-11.472h1.18v3.888c.81-.373 1.6-.56 2.36-.56Zm-.88 7.248c1.04 0 1.73-.235 2.06-.704.34-.48.51-1.285.51-2.416s-.13-1.92-.4-2.368c-.26-.459-.74-.688-1.42-.688-.62 0-1.26.117-1.91.352l-.32.112v5.632c.7.053 1.19.08 1.48.08Zm5.41-3.104c0-1.461.26-2.517.78-3.168.53-.651 1.41-.976 2.64-.976 1.25 0 2.13.325 2.64.976.53.651.79 1.707.79 3.168s-.25 2.523-.74 3.184-1.38.992-2.69.992c-1.3 0-2.19-.331-2.68-.992-.49-.661-.74-1.723-.74-3.184Zm1.23-.016c0 1.163.14 1.979.42 2.448.29.469.88.704 1.77.704.91 0 1.5-.229 1.78-.688.28-.469.42-1.291.42-2.464s-.16-1.979-.47-2.416c-.31-.448-.88-.672-1.73-.672-.83 0-1.4.224-1.72.672-.31.437-.47 1.243-.47 2.416Zm7.22.016c0-1.461.26-2.517.79-3.168.52-.651 1.4-.976 2.64-.976 1.25 0 2.13.325 2.64.976.52.651.78 1.707.78 3.168s-.24 2.523-.73 3.184c-.5.661-1.39.992-2.69.992s-2.2-.331-2.69-.992c-.49-.661-.74-1.723-.74-3.184Zm1.24-.016c0 1.163.13 1.979.41 2.448.29.469.88.704 1.78.704s1.5-.229 1.77-.688c.28-.469.42-1.291.42-2.464s-.16-1.979-.46-2.416c-.31-.448-.89-.672-1.73-.672-.83 0-1.41.224-1.73.672-.31.437-.46 1.243-.46 2.416Zm8.77 4.032h-1.2v-11.488h1.2v6.784l1.25-.064 2.28-3.232h1.36l-2.6 3.68 2.72 4.32h-1.36l-2.39-3.712-1.26.048V699Z"
						/>
						<path d="M990.853 597.761c.383-.027.766-.053 1.903.059 2.63-.186 4.507-.509 6.759-.794 18.315.798 36.265 1.557 54.205 2.315.46.173.91.345 2.02.85-.77 4.004-2.57 7.578-3.54 11.366-3.89 15.221-7.48 30.52-11.33 45.752-.29 1.18-1.63 2.823-2.66 2.967-4.24.596-8.56.629-12.84.99-10.86.916-21.71 1.898-33.002 2.804-3.823.407-7.212.863-10.721.955-4.235.006-8.349.377-12.756.774 0-1.788-.167-3.121.025-4.401 2.466-16.475 5.209-32.912 7.387-49.424 1.01-7.656 3.017-13.561 12.215-13.419.774.012 1.556-.517 2.335-.794Zm15.777 13.432c.43-.342.86-.683 1.99-1.206 3.19-1.148 5.87-5.176 9.96-1.109l-.45 2.553 1.06.135c0-1.304 0-2.608-.13-4.642.53-.624 1.02-1.747 1.59-1.793 5.68-.458 11.37-.737 17.06-.342-3.54 3.646-7.08 7.291-11.03 11.355.51.677 1.75 2.32 3.1 4.728.77 4.578 1.54 9.156 2.36 13.952 2.14-5.489 1.73-10.476-2.26-15.765-1.11-1.815-1.93-3.04 1-4.506 2.99-1.493 5.49-4.148 7.8-6.665.56-.616-.45-2.677-.96-4.862-1.71-.367-3.44-1.142-5.12-1.033-7.87.514-15.82.784-23.58 2.1-5.82.988-11.388 3.433-17.068 5.229l.397 1.243c6.094-1.776 12.191-3.552 18.281-5.328.15.443.3.885.44 1.328-1.23.985-2.46 1.97-4.19 3.205-.41.378-.81.756-1.64 1.362.04.262.09.525.13.788.24-.207.47-.414 1.26-.727Zm-12.334 9.714.85-.192c-.13-.152-.359-.447-.375-.435-.333.232-.642.499-1.462.712l-.904.323.228.419c.378-.252.756-.504 1.663-.827Zm35.404 18.145c.39-.847.79-1.694 1.18-2.541-.24-.126-.49-.252-.73-.378-.52.901-1.03 1.803-1.97 2.922-.26.197-.46.444-1.22.944-1.32.905-2.63 1.81-2.72 1.872-4.01-3.351-7.56-6.319-11.41-9.856-.93-1.142-1.86-2.284-3.35-4.11 2.27-1.985 4.58-3.848 6.67-5.925.67-.665.79-1.896 1.15-2.868-1.01-.123-2.2-.652-2.99-.296-3.22 1.444-6.32 3.161-10.49 5.306-.25-3.753-.46-6.815-.7-10.412l-3.589 4.786c7.339 8.629-.214 12.909-5.187 18.243l3.273-1.013c-3.043 13.043-1.461 16.432 8.663 18.926 6.16.042 12.61 1.579 18.47-3.592v-6.652c.93-1.09 2.17-2.559 3.78-4.326.24-.221.43-.477 1.17-1.03Zm-45.955 1.199c3.432 2.047 5.817 1.311 8.383-2.319-2.39.655-5.079 1.392-8.383 2.319Zm13.565-20.97a74 74 0 0 0-.292.195c.083.082.161.221.251.23.091.008.194-.114.041-.425Z" />
						<path d="M959.871 655.871c-3.055-10.993-5.981-22.025-9.227-32.962-1.333-4.492-.855-7.723 3.916-9.515 6.49-2.438 12.951-4.952 19.843-7.027-1.754 14.115-4.061 27.804-6.042 41.54-.933 6.469-1.24 13.029-1.785 19.043 2.363.895 3.708 1.404 4.685 2.033-1.927.391-3.484.664-4.655.87-2.018-3.979-3.849-7.585-5.654-11.502-.344-1.033-.712-1.757-1.081-2.48ZM992.803 664.119c10.857-.955 21.707-1.937 32.567-2.853 4.28-.361 8.6-.394 12.84-.99 1.03-.144 2.37-1.787 2.66-2.967 3.85-15.232 7.44-30.531 11.33-45.752.97-3.788 2.77-7.362 3.9-11.354 2.43-.662 2.5-.641 1.78 1.852-2.48 8.581-5.18 17.103-7.49 25.729a883.069 883.069 0 0 0-7.54 30.422c-.79 3.411-2.68 4.577-5.91 4.762-10.22.586-20.44 1.316-30.66 1.958-1.33.083-2.68-.152-3.99-.024-2.92.284-5.825.705-9.121.771-.379-.717-.372-1.136-.366-1.554Z" />
						<path d="M981.647 665.025c-3.014 1.471-6.148 2.577-9.65 3.761-1.713-.432-3.058-.941-5.421-1.836.545-6.014.852-12.574 1.785-19.043 1.981-13.736 4.288-27.425 6.438-41.568.657-1.295 1.542-2.061 1.98-3.03 2.847-6.301 3.802-6.872 10.986-6.157.815.081 1.628.174 2.765.435-.456.451-1.238.98-2.012.968-9.198-.142-11.205 5.763-12.215 13.419-2.178 16.512-4.921 32.949-7.387 49.424-.192 1.28-.025 2.613-.025 4.401 4.407-.397 8.521-.768 12.756-.774ZM992.778 596.342c2.001-.112 3.992.043 6.172.422-1.687.547-3.564.87-5.905 1.048-.403-.499-.34-.85-.267-1.47ZM960.952 658.351c-.214.929-.403 1.547-.83 2.384-.431-1.338-.623-2.896-.533-4.659.651.518 1.019 1.242 1.363 2.275ZM1005.78 653.978c-9.624-1.82-11.206-5.209-8.163-18.252l-3.273 1.013c4.973-5.334 12.526-9.614 5.187-18.243l3.589-4.786c.24 3.597.45 6.659.7 10.412 4.17-2.145 7.27-3.862 10.49-5.306.79-.356 1.98.173 2.99.296-.36.972-.48 2.203-1.15 2.868-2.09 2.077-4.4 3.94-6.67 5.925 1.49 1.826 2.42 2.968 3.37 4.547.02.436-.25.727-.56.626-1.61-1.278-2.91-2.456-4.22-3.642-.55.337-.94.667-1.39.831-5.09 1.867-7.714 5.459-8.654 10.849-1.095 6.28 1.746 9.595 7.184 11.592.3.11.36.871.55 1.315.01-.014.02-.045.02-.045ZM1037.71 604.064c-5.69.33-11.38.609-17.06 1.067-.57.046-1.06 1.169-1.71 2.306-.11.513-.46.815-.46.815-3.99-3.441-6.67.587-10.35 1.663-.48-.072-.76-.395-.76-.395 1.24-.985 2.47-1.97 3.7-2.955-.14-.443-.29-.885-.44-1.328-6.09 1.776-12.187 3.552-18.281 5.328l-.397-1.243c5.68-1.796 11.248-4.241 17.068-5.229 7.76-1.316 15.71-1.586 23.58-2.1 1.68-.109 3.41.666 5.18 1.491.05.458-.07.58-.07.58Z" />
						<path d="M1028.16 640.379c-1.24 1.47-2.48 2.939-3.41 4.029 0 2.394 0 4.523-.42 6.677-.43.026-.63-.156-.6-.506-.33-1.634-.69-2.919-1.06-4.243-1.94 1.058-3.43 1.872-4.94 2.346 1.13-1.688 2.29-3.037 3.78-4.768-2.9-3.5-5.91-7.117-8.91-10.735 0 0 .27-.291.4-.442 3.68 2.815 7.23 5.783 11.24 9.134.09-.062 1.4-.967 3.17-1.827.46.046.75.335.75.335ZM1037.89 603.878c.34 1.333 1.35 3.394.79 4.01-2.31 2.517-4.81 5.172-7.8 6.665-2.93 1.466-2.11 2.691-1.02 4.95-.02.443-.2.604-.2.604-1.23-1.643-2.47-3.286-2.98-3.963 3.95-4.064 7.49-7.709 11.03-11.717 0-.363.12-.485.18-.549Z" />
						<path d="M1024 651.199c-5.11 5.032-11.56 3.495-17.97 3.116-.25-.337-.26-.306.1-.33 3.47-1.352 6.56-2.679 9.7-3.681-.37.999-.79 1.673-1.89 3.446l9.76-2.821s.2.182.3.27ZM1029.93 619.867c3.94 4.481 4.35 9.468 2.21 14.957-.82-4.796-1.59-9.374-2.42-14.335-.06-.382.12-.543.21-.622ZM984.052 640.156c2.997-.832 5.686-1.569 8.076-2.224-2.566 3.63-4.951 4.366-8.076 2.224ZM1019.01 607.802c.18 1.156.18 2.46.18 3.764l-1.06-.135c.15-.851.3-1.702.4-2.866-.05-.313.3-.615.48-.763ZM1028.6 638.837c.52-.902 1.03-1.803 1.55-2.704.24.126.49.252.73.378-.39.847-.79 1.694-1.61 2.551-.42.011-.67-.225-.67-.225ZM993.815 621.039c.314-.26.623-.527.956-.759.016-.012.245.283.375.435a97.14 97.14 0 0 1-1.104.244c-.254.052-.227.08-.227.08Z" />
						<path d="M993.778 620.995c-.389.235-.767.487-1.145.739l-.228-.419c.301-.107.603-.215 1.157-.299.253.023.226-.005.216-.021ZM1007.78 610.006c-.29.504-.72.845-1.53 1.141a1.044 1.044 0 0 1-.58-.244c.4-.378.8-.755 1.45-1.258.25-.125.53.198.66.361ZM1005.98 611.2c-.14.306-.37.513-.61.72-.04-.263-.09-.525.08-.903.22-.114.42.084.53.183ZM1027.73 639.943c-.01-.444.19-.691.66-.997.21-.109.46.127.58.247-.01.412-.2.668-.63 1.038-.18.148-.47-.141-.61-.288ZM997.435 619.404c.028.188-.075.31-.166.302-.09-.009-.168-.148-.251-.23.097-.065.194-.13.417-.072ZM1015.79 649.978c-3.1 1.328-6.19 2.655-9.67 4.021-.55-.42-.61-1.181-.91-1.291-5.438-1.997-8.279-5.312-7.184-11.592.94-5.39 3.564-8.982 8.654-10.849.45-.164.84-.494 1.39-.831 1.31 1.186 2.61 2.364 4.22 3.642 3.31 3.719 6.32 7.336 9.22 10.836-1.49 1.731-2.65 3.08-3.77 4.758.04.329.06.314-.26.235-.8.317-1.26.712-1.72 1.099.01-.007.03-.028.03-.028Z" />
						<path d="M1023.73 650.579c-2.95 1.194-5.87 2.039-9.79 3.171 1.1-1.773 1.52-2.447 1.89-3.446-.04-.326-.06-.305.25-.197.78-.302 1.25-.712 1.72-1.121 0 0-.02.015-.03.025l4.9-2.675c.37 1.324.73 2.609 1.06 4.243Z" />
						<path d="M1017.48 648.907c-.15.488-.62.898-1.41 1.207.15-.495.61-.89 1.41-1.207Z" />
					</g>
					<g onClick={onSudokuClick}>
						<rect width={100} height={40} x={814} y={668} rx={8} />
						<path
							fill="#fff"
							d="M842.416 683.84c-1.6 0-2.4.603-2.4 1.808 0 .672.181 1.136.544 1.392.373.245 1.12.496 2.24.752 1.131.245 1.931.571 2.4.976.469.395.704 1.051.704 1.968 0 2.272-1.179 3.408-3.536 3.408-.779 0-1.755-.091-2.928-.272l-.576-.08.128-1.024c1.451.192 2.555.288 3.312.288 1.579 0 2.368-.741 2.368-2.224 0-.597-.176-1.024-.528-1.28-.341-.267-.987-.491-1.936-.672-1.248-.267-2.133-.608-2.656-1.024-.523-.427-.784-1.136-.784-2.128 0-1.984 1.189-2.976 3.568-2.976.779 0 1.712.08 2.8.24l.544.08-.112 1.04c-1.483-.181-2.533-.272-3.152-.272Zm10.4 2.16h1.2v8h-1.2v-.56c-.8.48-1.589.72-2.368.72-1.088 0-1.813-.283-2.176-.848-.352-.565-.528-1.611-.528-3.136V686h1.2v4.16c0 1.163.101 1.941.304 2.336.203.395.661.592 1.376.592a4.18 4.18 0 0 0 1.072-.144c.363-.107.64-.208.832-.304l.288-.144V686Zm9.652-3.488V694h-1.184v-.544c-.821.469-1.632.704-2.432.704-.427 0-.8-.053-1.12-.16a2.303 2.303 0 0 1-.896-.576c-.576-.576-.864-1.637-.864-3.184 0-1.557.256-2.677.768-3.36.523-.693 1.381-1.04 2.576-1.04.619 0 1.275.069 1.968.208v-3.536h1.184Zm-4.704 10.048c.171.203.352.341.544.416.192.075.437.112.736.112a4.14 4.14 0 0 0 1.024-.144c.384-.107.683-.208.896-.304l.32-.144v-5.424a10.373 10.373 0 0 0-1.904-.192c-.811 0-1.376.261-1.696.784-.32.512-.48 1.312-.48 2.4 0 1.237.187 2.069.56 2.496Zm6.677-2.576c0-1.461.261-2.517.784-3.168.522-.651 1.402-.976 2.64-.976 1.248 0 2.128.325 2.64.976.522.651.784 1.707.784 3.168s-.246 2.523-.736 3.184c-.491.661-1.387.992-2.688.992-1.302 0-2.198-.331-2.688-.992-.491-.661-.736-1.723-.736-3.184Zm1.232-.016c0 1.163.138 1.979.416 2.448.288.469.88.704 1.776.704.906 0 1.498-.229 1.776-.688.277-.469.416-1.291.416-2.464s-.155-1.979-.464-2.416c-.31-.448-.886-.672-1.728-.672-.832 0-1.408.224-1.728.672-.31.437-.464 1.243-.464 2.416Zm8.773 4.032h-1.2v-11.488h1.2v6.784l1.248-.064 2.288-3.232h1.36l-2.608 3.68 2.72 4.32h-1.36l-2.384-3.712-1.264.048V694Zm11.448-8h1.2v8h-1.2v-.56c-.8.48-1.589.72-2.368.72-1.088 0-1.813-.283-2.176-.848-.352-.565-.528-1.611-.528-3.136V686h1.2v4.16c0 1.163.101 1.941.304 2.336.203.395.661.592 1.376.592a4.18 4.18 0 0 0 1.072-.144c.363-.107.64-.208.832-.304l.288-.144V686Z"
						/>
						<path d="M911.182 603.166c-.724 3.645-1.449 7.29-2.501 11.601-.826 3.816-1.325 6.965-1.825 10.115 0 0 .027.001-.242.26-2.964 8.426-5.538 16.637-8.457 24.723-.567 1.57-2.361 3.636-3.791 3.808-13.633 1.645-27.306 2.962-40.975 4.311-9.208.91-18.426 1.721-28.059 2.678-2.726.322-5.031.542-7.617.542.671-2.821 1.377-5.546 2.616-8.001a1135.043 1135.043 0 0 1 15.957-30.432c3.867-5.76 7.414-11.408 10.961-17.056l1.043.569-5.992 16.055c.548.232.972.555 1.413.579 17.679.953 35.357 1.921 53.044 2.702 1.041.046 2.902-1.281 3.107-2.241 1.51-7.083 2.697-14.235 4.426-21.376 2.59.38 4.741.772 6.892 1.163Zm-55.798 26.137-6.626 18.078 1.714 1.515c1.544-7.501 5.859-9.63 12.441-7.732l.333 4.99c3.885-5.631 6.547-6.408 14.222-4.357.199 4.517-2.494 5.269-6.336 5.452-6.61.314-13.194 1.166-19.788 1.791l.112.799h27.309c.681-3.447.969-5.995 1.712-8.402 1.024-3.318 2.281-6.577 3.641-9.775 1.319-3.099.19-4.44-2.894-4.474-5.105-.056-10.224-.212-15.312.092-3.333.2-6.622 1.137-9.902 1.728 0 0 .018-.027-.626.295Z" />
						<path d="M903.85 602.014c-1.289 7.13-2.476 14.282-3.986 21.365-.205.96-2.066 2.287-3.107 2.241-17.687-.781-35.365-1.749-53.044-2.702-.441-.024-.865-.347-1.413-.579l5.992-16.055-1.043-.569c-3.547 5.648-7.094 11.296-10.965 16.811-.916-.255-1.509-.375-2.107-.838.363-1.657.731-2.972 1.351-4.532 4.719-7.226 9.186-14.208 13.653-21.19.198.019.396.038.852.356.471.742.684 1.185.883 1.997a52.63 52.63 0 0 1-.598 2.908c12.617 0 25.098.011 37.579-.006 3.724-.006 7.447-.088 11.526-.13 1.712.312 3.069.618 4.427.923Zm-11.698 21.109h5.586l4.216-18.952c-1.663-.101-2.942-.218-4.224-.25-10.228-.253-20.455-.556-30.684-.704-5.121-.074-11.049-1.388-15.099.74-2.934 1.541-3.366 7.824-4.94 11.982-.569 1.503-1.216 2.977-2.044 4.99 15.718.724 30.997 1.427 47.189 2.194ZM825.752 660.56c9.213-.855 18.431-1.666 27.639-2.576 13.669-1.349 27.342-2.666 40.975-4.311 1.43-.172 3.224-2.238 3.791-3.808 2.919-8.086 5.493-16.297 8.453-24.712-.624 4.885-.959 10.197-2.541 15.107-2.191 6.801-5.298 13.308-8.08 19.913-.28.665-1.021 1.136-2.195 1.445-9.741-.692-18.839-1.536-27.927-1.438-6.637.073-13.261 1.387-20.169 2.351-6.834-.521-13.39-1.246-19.946-1.971Zm65.368-.891 3.726-2.533-.655-1.365-21.061 2.556.024.482c5.734.299 11.467.597 17.966.86ZM814.575 661.612c-.266-1.194-1.107-2.64-.711-3.544 4.899-11.172 9.979-22.264 15.071-33.729 1.407-2.586 2.756-4.819 4.628-7.213.921-.015 1.317.13 1.713.276-.368 1.314-.736 2.629-1.318 4.569-6.604 13.631-12.993 26.636-19.383 39.641Z" />
						<path d="M847.888 662.34c-.425-.009-.85-.017-1.593-.019 6.311-.754 12.935-2.068 19.572-2.141 9.088-.098 18.186.747 27.572 1.428-6.466.873-13.214 1.698-19.987 2.078-6.144.345-12.314.205-18.936.268-.463-.01-.396-.031-.5-.432-2.113-.661-4.12-.922-6.128-1.182ZM835.528 617.156c-.648.1-1.044-.045-1.622-.259-.818-.118-1.454-.167-1.015-.133 2.705-5.31 5.529-11.012 8.527-16.62.665-1.245 1.942-2.163 3.254-3.301a8.263 8.263 0 0 0 1.292-.677s.16-.014.402-.08c.243-.066.598-.346.598-.346.492.056.983.113 1.846.198-4.096 7.01-8.563 13.992-13.282 21.218ZM904.29 602.003c-1.798-.294-3.155-.6-4.974-1.308-2.591-.839-4.765-1.13-6.842-1.747-2.858-.848-5.644-1.943-8.092-3.03 1.611-.041 2.853.015 4.184-.015.089-.088.533-.11.533-.11.646-.217 1.292-.434 2.532-.272 1.756.764 2.913 1.461 4.082 1.481 5.439.092 10.881-.004 16.363.366.19 1.184.338 1.969.487 2.754-.286.869-.571 1.737-1.119 2.825-2.413-.172-4.564-.564-7.154-.944Z" />
						<path d="M912.035 596.969c-5.441.029-10.883.125-16.322.033-1.169-.02-2.326-.717-3.569-1.494 5.959-.803 11.999-1.213 18.713-1.407.843 1.1 1.01 1.984 1.178 2.868ZM907.234 624.849c.122-3.117.621-6.266 1.398-9.69.549 1.47 1.196 3.262.983 4.945-.207 1.629-1.3 3.146-2.381 4.745ZM846.953 595.507c.011.233-.344.513-.568.501-.162-.444-.1-.877-.037-1.309.198.192.396.384.605.808ZM888.566 595.903c-.09.087.224-.286.386-.468.162-.182.168.089.157.224-.01.134-.454.156-.543.244ZM845.637 596.165c.002.203-.324.405-.793.423.059-.264.262-.344.793-.423ZM855.982 629.024c3.308-.607 6.597-1.544 9.93-1.744 5.088-.304 10.207-.148 15.312-.092 3.084.034 4.213 1.375 2.894 4.474-1.36 3.198-2.617 6.457-3.641 9.775-.743 2.407-1.031 4.955-1.712 8.402h-27.309l-.112-.799c6.594-.625 13.178-1.477 19.788-1.791 3.842-.183 6.535-.935 6.336-5.452-7.675-2.051-10.337-1.274-14.222 4.357l-.333-4.99c-6.582-1.898-10.897.231-12.441 7.732l-1.714-1.515c2.209-6.026 4.417-12.052 6.934-17.811 1.141 1.333 2.033 3.341 2.799 3.294 2.788-.171 6.384 1.65 8.851-2.429l-11.36-1.411Zm24.81 4.968 1.276-4.283c-4.774 1.078-9.295-1.335-13.007 1.56l.034 1.613c3.691.508 7.382 1.017 11.697 1.11Zm-22.623.732c-3.492-.832-3.686 1.404-3.744 4.209 3.749-.441 8.075 1.873 11.31-3.814a380.772 380.772 0 0 0-7.566-.395Zm12.592 4.142h8.586l.014-1.578c-3.132-.756-6.239-1.692-9.415-2.145-.828-.118-1.87 1.268-2.814 1.963.919.577 1.838 1.155 3.629 1.76ZM814.919 661.744c6.046-13.137 12.435-26.142 19.043-39.43.813-.163 1.406-.043 2.003.323-5.224 10.345-10.51 20.415-15.634 30.566-1.239 2.455-1.945 5.18-2.616 8.001-.63.371-1.541.521-2.796.54ZM891.696 623.091c-15.736-.735-31.015-1.438-46.733-2.162.828-2.013 1.475-3.487 2.044-4.99 1.574-4.158 2.006-10.441 4.94-11.982 4.05-2.128 9.978-.814 15.099-.74 10.229.148 20.456.451 30.684.704 1.282.032 2.561.149 4.224.25l-4.216 18.952c-2.019 0-3.802 0-6.042-.032Zm-2.896-4.169c3.679 2.32 5.698.042 6.936-2.903 1.057-2.518 2.5-5.473-.687-7.666-.554.955-.158 1.974-.465 2.694-.959 2.258-2.183 4.403-3.305 6.592-.807-1.905-1.677-3.787-2.387-5.728-.263-.717-.148-1.573-.2-2.293-3.971-.533-7.978-5.612-11.374.693 2.087 2.571 7.009-4.343 7.425 1.751.364 5.333-4.861 5.447-8.774 6.338l.538 1.374 10.541-3.17c.147.234.671 1.066 1.752 2.318Zm-25.642-1.594c3.034 2.833 7.258 2.204 9.666-1.407 2.055-3.081.872-5.805-1.312-7.976-2.632-2.616-5.203-.732-6.566 1.475-1.26 2.041-1.382 4.785-1.788 7.908Zm-2.555-11.003-6.14.61c.752 1.47 1.599 2.899 2.229 4.419.615 1.482 1.008 3.055 1.502 4.599h-5.674c.032.778-.06 2.201.116 2.235 1.724.334 3.536.729 5.232.483.882-.127 1.817-1.38 2.326-2.338 2.235-4.208-.424-6.274-5.273-8.228 2.911-.577 4.358-.863 5.682-1.78ZM850.916 598.319c10.762-1.004 21.511-1.639 32.678-2.289 3.236.975 6.022 2.07 8.88 2.918 2.077.617 4.251.908 6.488 1.741-3.618.444-7.341.526-11.065.532-12.481.017-24.962.006-37.579.006.152-.66.368-1.599.598-2.908ZM890.737 659.687c-6.116-.281-11.849-.579-17.583-.878l-.024-.482 21.061-2.556.655 1.365c-1.242.844-2.484 1.689-4.109 2.551ZM848.16 662.568c1.736.032 3.743.293 5.85.92-1.794.013-3.687-.339-5.85-.92Z" />
						<path d="M880.48 634.2c-4.003-.301-7.694-.81-11.385-1.318l-.034-1.613c3.712-2.895 8.233-.482 13.007-1.56-.574 1.927-.925 3.105-1.588 4.491ZM858.575 634.724a626.4 626.4 0 0 1 7.16.395c-3.235 5.687-7.561 3.373-11.31 3.814.058-2.805.252-5.041 4.15-4.209ZM870.325 638.852c-1.355-.591-2.274-1.169-3.193-1.746.944-.695 1.986-2.081 2.814-1.963 3.176.453 6.283 1.389 9.415 2.145l-.014 1.578c-2.862 0-5.724 0-9.022-.014ZM855.996 629.016c3.515.446 7.043.885 11.346 1.419-2.467 4.079-6.063 2.258-8.851 2.429-.766.047-1.658-1.961-2.478-3.454.015-.429-.003-.402-.017-.394ZM888.521 618.712a27.043 27.043 0 0 1-1.473-2.108l-10.541 3.17-.538-1.374c3.913-.891 9.138-1.005 8.774-6.338-.416-6.094-5.338.82-7.425-1.751 3.396-6.305 7.403-1.226 11.374-.693.052.72-.063 1.576.2 2.293.71 1.941 1.58 3.823 2.387 5.728 1.122-2.189 2.346-4.334 3.305-6.592.307-.72-.089-1.739.465-2.694 3.187 2.193 1.744 5.148.687 7.666-1.238 2.945-3.257 5.223-7.215 2.693ZM863.05 616.984c.514-2.779.636-5.523 1.896-7.564 1.363-2.207 3.934-4.091 6.566-1.475 2.184 2.171 3.367 4.895 1.312 7.976-2.408 3.611-6.632 4.24-9.774 1.063Zm1.999-1.624c2.312 3.876 4.724.847 5.529-.678.763-1.446-.409-3.912-.73-5.93l-2.091-.056c-.912 1.96-1.823 3.921-2.708 6.664ZM860.664 606.64c-1.385.602-2.832.888-5.743 1.465 4.849 1.954 7.508 4.02 5.273 8.228-.509.958-1.444 2.211-2.326 2.338-1.696.246-3.508-.149-5.232-.483-.176-.034-.084-1.457-.116-2.235h5.674c-.494-1.544-.887-3.117-1.502-4.599-.63-1.52-1.477-2.949-2.229-4.419 2.047-.203 4.093-.406 6.201-.295Z" />
						<path d="M865.036 614.968c.898-2.352 1.809-4.312 2.721-6.272l2.091.056c.321 2.018 1.493 4.484.73 5.93-.805 1.525-3.217 4.554-5.542.286Z" />
					</g>
				</svg>
				{sketchbook && (
					<SketchbookContainer>
						<Pencils>
							<Flex flex={2} />
							{renderColors()}
							<PencilContainer active={eraser} onClick={onEraserClick} reverse>
								<Pencil color="white" />
							</PencilContainer>
							<Flex flex={2} />
							<Button width={120} onClick={onExitClick}>
								Exit
							</Button>
							<Flex flex={1} />
						</Pencils>
						<CanvasWrapper>
							<CanvasContainer>
								<ReactSketchCanvas
									style={{border: 'none'}}
									strokeColor={color}
									ref={canvasRef}
								/>
							</CanvasContainer>
						</CanvasWrapper>
					</SketchbookContainer>
				)}
			</Main>
		</Container>
	);
};
